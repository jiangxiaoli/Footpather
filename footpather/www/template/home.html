<ion-view title="Home">

  <map center="current-location" zoom="16" id="map" pan-control="false" zoom-control="false" scale-control="false" styles="{{styles}}">

    <!--buttons-->
    <button id="find-me-btn" ng-click="centerOnMe()" class="button icon ion-pinpoint"></button>
    <button id="help-me-btn" ng-click="" class="button icon-left ion-alert button-assertive">HELP ME!</button>
    <button id="report-btn" ng-click="" class="button icon-left ion-speakerphone button-stable">Report</button>
    <button id="navigate-btn" ng-click="modal.show()" class="button icon-left ion-map button-stable">Navigate</button>

    <!--current locaiton marker-->
    <marker id="foo" position="current-location"></marker>
    <!--info window test-->
    <!--<info-window id="bar" max-width="200" visible-on-marker="foo">-->
      <!--<div ng-non-bindable="">-->
        <!--<div id="siteNotice"></div>-->
        <!--<h5 id="firstHeading" class="firstHeading">Crime</h5>-->
        <!--<div id="bodyContent">-->
          <!--<img ng-src="{{streetViewUrl}}" width="160">-->
        <!--</div>-->
      <!--</div>-->
    <!--</info-window>-->

    <!--crime markers-->
    <marker ng-repeat="crime in crimereports.crimes" position="[{{crime.lat}}, {{crime.lng}}]" icon="/img/icons/crime.png">
    </marker>

    <!--sex offender markers-->
    <marker ng-repeat="offender in crimereports.offenders" position="[{{offender.lat}}, {{offender.lng}}]" icon="/img/icons/offender.png">
    </marker>

    <!--report markers-->
    <marker ng-repeat="report in reports" position="[{{report.latitude}}, {{report.longitude}}]" icon="/img/icons/report.png">
    </marker>

    <!--user markers-->
    <marker ng-repeat="user in users" position="[{{user.latitude}}, {{user.longitude}}]" icon="/img/icons/girl.png">
    </marker>

  </map>

  <!--navigate input modal-->
  <script id="templates/navigateModal.html" type="text/ng-template">
    <ion-modal-view id="navigateModal">
      <ion-header-bar class="bar bar-header bar-stable">
        <h1 class="title">Plan a Footpath</h1>
        <button class="button button-clear button-primary" ng-click="modal.hide()">Cancel</button>
      </ion-header-bar>
      <ion-content class="padding">

        <div class="list">
          <label class="item item-input">
            <span class="input-label">From</span>
            <ion-autocomplete ng-model="navigate.from"
                              item-view-value-key="view"
                              item-value-key="location"
                              items-method="getTestItems(query)"
                              placeholder="Enter your start location..."
                              items-clicked-method="fromLocSelect(callback)"></ion-autocomplete>
          </label>
          <label class="item item-input">
            <span class="input-label">To</span>
            <ion-autocomplete ng-model="navigate.to"
                              item-view-value-key="view"
                              item-value-key="location"
                              items-method="getTestItems(query)"
                              placeholder="Enter your end location..."
                              items-clicked-method="toLocSelect(callback)"></ion-autocomplete>
          </label>
          <label class="item item-input">
            <span class="input-label">Time</span>
            <input ng-model="navigate.time" type="time">
          </label>
          <button class="button button-full button-positive" ng-click="calculateNavigation(navigate)">Start Navigate</button>
        </div>
      </ion-content>
    </ion-modal-view>
  </script>

</ion-view>
